# ğŸ“„ Go èŠå¤©å®¤é¡¹ç›®è¯´æ˜æ–‡æ¡£

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº **Go è¯­è¨€** å¼€å‘çš„è½»é‡çº§ **å®æ—¶èŠå¤©ç³»ç»Ÿ**ï¼Œæ”¯æŒï¼š

- å¤šäººå®æ—¶æ–‡å­—èŠå¤©ï¼ˆWebSocketï¼‰
- æ–‡ä»¶ä¸Šä¼ ä¸åˆ†äº«ï¼ˆå›¾ç‰‡è‡ªåŠ¨é¢„è§ˆï¼Œå…¶ä»–æ–‡ä»¶å¯ä¸‹è½½ï¼‰
- ç³»ç»Ÿæ¶ˆæ¯é€šçŸ¥ï¼ˆç”¨æˆ·ä¸Šçº¿/ç¦»çº¿ï¼‰
- å“åº”å¼ç½‘é¡µç•Œé¢ï¼ˆé€‚é…æ¡Œé¢ä¸æ‰‹æœºï¼‰

é€‚ç”¨äºå†…ç½‘åä½œã€å­¦ä¹ æ¼”ç¤ºæˆ–å°å‹å›¢é˜Ÿæ²Ÿé€šã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
go-chat/
â”œâ”€â”€ go.mod                # Go æ¨¡å—å®šä¹‰
â”œâ”€â”€ main.go               # æœåŠ¡ç«¯ä¸»ç¨‹åº
â””â”€â”€ public/
    â”œâ”€â”€ index.html        # èŠå¤©ä¸»ç•Œé¢
    â””â”€â”€ (å¯é€‰) files.html # æ–‡ä»¶ç®¡ç†é¡µï¼ˆå¦‚æœ‰ï¼‰
```

æ–‡ä»¶é»˜è®¤ä¸Šä¼ è‡³ `./uploads/` ç›®å½•ã€‚

---

## âš™ï¸ è¿è¡Œç¯å¢ƒè¦æ±‚

- Go 1.20+ï¼ˆä½ ä½¿ç”¨çš„æ˜¯ 1.24.8ï¼Œå®Œå…¨å…¼å®¹ï¼‰
- ç½‘ç»œå¯è®¿é—®ï¼ˆéƒ¨ç½²åé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼‰
- ï¼ˆæ¨èï¼‰Linux / Windows / macOS å‡å¯

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆå›½å†…ç¯å¢ƒï¼‰

### 1. å…‹éš†æˆ–åˆ›å»ºé¡¹ç›®ç›®å½•

```bash
mkdir go-chat && cd go-chat
```

### 2. åˆ›å»º `go.mod`

```go
module go-chat

go 1.24.8

require (
	github.com/gorilla/websocket v1.5.3
	github.com/rs/cors v1.11.1
)
```

### 3. ä¿å­˜ `main.go` å’Œ `public/index.html`

- å°†ä½ çš„æœåŠ¡ç«¯ä»£ç ä¿å­˜ä¸º `main.go`
- å°†ä¼˜åŒ–åçš„ HTML ä¿å­˜ä¸º `public/index.html`

### 4. åˆ›å»ºä¸Šä¼ ç›®å½•

```bash
mkdir uploads
```

### 5. ä¸€æ¡å‘½ä»¤è¿è¡Œï¼ˆè‡ªåŠ¨ä½¿ç”¨å›½å†…é•œåƒï¼‰

```bash
GOPROXY=https://goproxy.cn,direct go run main.go
```

> é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½ä¾èµ–ï¼Œåç»­å¯ç›´æ¥ `go run main.go`

---

## ğŸŒ è®¿é—®æ–¹å¼

æœåŠ¡é»˜è®¤ç›‘å¬ **3027 ç«¯å£**ï¼Œå¯åŠ¨åï¼š

- èŠå¤©é¡µé¢ï¼š`http://<æœåŠ¡å™¨IP>:3027/`
- ç¤ºä¾‹ï¼š`http://192.168.1.100:3027`ï¼ˆå†…ç½‘ï¼‰æˆ– `http://your-domain.com:3027`ï¼ˆå…¬ç½‘ï¼‰

> ğŸ’¡ å»ºè®®æ­é… Nginx åå‘ä»£ç† + HTTPS ç”¨äºå…¬ç½‘éƒ¨ç½²ã€‚

---

## ğŸ”’ å®‰å…¨æé†’ï¼ˆé‡è¦ï¼ï¼‰

æœ¬é¡¹ç›®ä¸º**æ¼”ç¤º/å†…ç½‘ç”¨é€”è®¾è®¡**ï¼Œè‹¥éƒ¨ç½²åˆ°å…¬ç½‘ï¼Œè¯·åŠ¡å¿…ï¼š

1. **é™åˆ¶æ–‡ä»¶ä¸Šä¼ ç±»å‹**ï¼ˆä»…å…è®¸ `.jpg`, `.png`, `.pdf` ç­‰ï¼‰
2. **é‡å‘½åä¸Šä¼ æ–‡ä»¶**ï¼ˆé¿å…è·¯å¾„éå†æˆ–æ¶æ„è„šæœ¬æ‰§è¡Œï¼‰
3. **ä¸è¦å¼€æ”¾ `uploads` ç›®å½•çš„æ‰§è¡Œæƒé™**
4. **å¯ç”¨ HTTPS/WSS**ï¼ˆé˜²æ­¢æ¶ˆæ¯è¢«çªƒå¬ï¼‰
5. **è€ƒè™‘æ·»åŠ èº«ä»½éªŒè¯**ï¼ˆå½“å‰æ— ç™»å½•æœºåˆ¶ï¼‰

> âš ï¸ æœªç»åŠ å›ºçš„å…¬ç½‘éƒ¨ç½²å¯èƒ½å¯¼è‡´æœåŠ¡å™¨è¢«å…¥ä¾µï¼



```bash
# é»˜è®¤å¯åŠ¨
go run main.go

# è‡ªå®šä¹‰é…ç½®
./go-chat -port=9000 -upload-dir=chat_files -max-size=200M

# Windows
go-chat.exe -max-size=1.5G -upload-dir="D:\chat\uploads"
```
